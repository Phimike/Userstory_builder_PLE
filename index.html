<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>User Story → JIRA Markdown (HEINEKEN · PLE)</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  :root{
    --brand-green: #00833D;
    --brand-green-dark:#005a2a;
    --brand-surface: #f3f4f6;
    --brand-border: #d1d5db;
    --brand-ink: #1f2937;
    --brand-muted: #6b7280;
    --brand-danger: #E2231A;
  }
  *{ box-sizing:border-box }
  body{ margin:0; padding:28px; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; background:#ffffff; color: var(--brand-ink); }
  header h1{ margin:0 0 8px; font-size:24px; font-weight:800; color:var(--brand-green-dark); }
  header .sub{ margin:4px 0 18px; color: var(--brand-muted); }
  .badge{ margin-left:10px; padding:3px 8px; border-radius:999px; background:#e6f4ea; color:var(--brand-green-dark); border:1px solid var(--brand-border); font-size:12px;}
  .tabs{ display:flex; gap:10px; margin-bottom:16px; flex-wrap:wrap }
  .tab{ border:1px solid var(--brand-border); padding:10px 14px; border-radius:12px; cursor:pointer; background:#fff; font-weight:700; }
  .tab.active{ background: var(--brand-green); color:#fff; border-color: transparent; }
  .screen{ display:none } .screen.active{ display:block }
  .grid{ display:grid; grid-template-columns:1.25fr 1fr; gap:18px }
  @media(max-width:980px){ .grid{ grid-template-columns:1fr } }
  .card{ background:#fff; border:1px solid var(--brand-border); border-radius:16px; padding:16px; box-shadow: 0 4px 10px rgba(0,0,0,.05);}
  .card h2{ margin:0 0 12px; font-size:18px; color:var(--brand-green-dark) }
  .row{ display:flex; align-items:center; gap:10px; margin-bottom:10px }
  .row .prefix,.row .suffix{ white-space:nowrap; font-size:14px; color:#374151 }
  input[type="text"], .combo, textarea{ background:#fff; color:var(--brand-ink); border:1px solid var(--brand-border); border-radius:12px; padding:10px 12px; font-size:14px; }
  input::placeholder, textarea::placeholder{ color:var(--brand-muted) }
  .combo{ flex:1; min-width:240px }
  .row input[type="text"]{ flex:1; min-width:240px }
  textarea{ width:100%; min-height:120px; resize:vertical }
  .checklist{ display:grid; gap:8px; margin-top:8px }
  .checklist label{ display:flex; gap:10px; align-items:flex-start; }
  .btn{ border-radius:12px; padding:12px 14px; font-weight:700; cursor:pointer; }
  .btn.primary{ background: var(--brand-green); color:#fff; border:none; }
  .btn.primary:hover{ background: var(--brand-green-dark); }
  .btn.secondary{ background:#fff; color: var(--brand-green-dark); border:1px solid var(--brand-green); }
  .btn.secondary:hover{ background:#f9fafb; }
  .actions{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; align-items:center }
  .pill{ font-size:12px; padding:4px 10px; border-radius:999px; border:1px solid var(--brand-border); color:#374151 }
  .ok{ border-color:#16a34a; background:#dcfce7 }
  .warn{ border-color:#f59e0b; background:#fef9c3 }
  .preview{ white-space:pre-wrap; background: var(--brand-surface); color: var(--brand-ink); border:1px solid var(--brand-border); border-radius:12px; padding:12px; font-family: ui-monospace, Menlo, Consolas, monospace; min-height:160px; }
  .hint{ font-size:12px; color: var(--brand-muted); margin-top:6px }
  footer{ margin-top:16px; color: var(--brand-muted); font-size:12px; text-align:right }
  .cheat-grid{ display:grid; gap:16px; grid-template-columns: 1fr 1fr 1fr }
  @media(max-width:1200px){ .cheat-grid{ grid-template-columns:1fr 1fr } }
  @media(max-width:800px){ .cheat-grid{ grid-template-columns:1fr } }
  .cheat-section h3{ margin:0 0 8px; font-size:16px; color:var(--brand-green-dark) }
  .list{ margin:0; padding-left:18px }
  .pill-list{ display:flex; flex-wrap:wrap; gap:6px; margin-top:6px }
  .pill-item{ border:1px solid var(--brand-border); border-radius:999px; padding:4px 8px; font-size:12px; background:#fff; color:#374151 }
  .example{ background: var(--brand-surface); border:1px solid var(--brand-border); border-radius:10px; padding:10px; margin-top:8px; white-space:pre-wrap; font-family: ui-monospace, Menlo, Consolas, monospace; color: var(--brand-ink); }
  .img-wrap{ background:#fff; border:1px solid var(--brand-border); border-radius:12px; padding:12px }

  .hide{ display:none !important }
  .section{ margin-top:12px } .section h3{ margin:6px 0 8px; font-size:14px; color:#0f3a26 }
  .tog{ display:flex; align-items:center; gap:8px; margin:6px 0 8px; } .tog label{ font-weight:600; color:#0f3a26 }
</style>
</head>
<body>
  <header>
    <h1>User Story Toolkit</h1>
    <p class="sub">Build a clean user story and copy <b>JIRA-ready Markdown</b>. Flip to the cheat sheet for best practices.</p>
  </header>

  <div class="tabs">
    <button class="tab active" data-target="builder">User Story Builder</button>
    <button class="tab" data-target="cheatsheet">How to write user stories — Cheat Sheet</button>
  </div>

  <section id="builder" class="screen active">
    <div class="grid">
      <!-- LEFT: Inputs -->
      <div class="card">
        <h2>User Story</h2>

        <!-- AS A -->
        <div class="row">
          <span class="prefix">“<b>As a</b></span>
          <input id="asA" class="combo" list="roles" placeholder="end user" aria-label="As a (role)" />
          <datalist id="roles">
            <option value="end user"></option>
            <option value="operator"></option>
            <option value="brewer"></option>
            <option value="shift lead"></option>
            <option value="product owner"></option>
            <option value="technology specialist"></option>
            <option value="warehouse worker"></option>
            <option value="system administrator"></option>
          </datalist>
          <span class="suffix">”</span>
        </div>

        <!-- I WANT TO (phrase + action) -->
        <div class="row">
          <span class="prefix">“</span>
          <select id="wantVerb" aria-label="Desire verb">
            <option value="I want to" selected>I want to</option>
            <option value="I would like to">I would like to</option>
            <option value="I need to">I need to</option>
            <option value="I must be able to">I must be able to</option>
          </select>
          <input id="iWant" type="text" placeholder="have a blue button" aria-label="Action" />
          <span class="suffix">”</span>
        </div>

        <!-- SO THAT -->
        <div class="row">
          <span class="prefix">“<b>So that</b></span>
          <input id="soThat" type="text" placeholder="I can see it clearly" aria-label="So that" />
          <span class="suffix">”</span>
        </div>

        <!-- Toggles -->
        <div class="section">
          <div class="tog"><input type="checkbox" id="useDesc" checked /><label for="useDesc">Include <b>Description</b></label></div>
          <textarea id="desc" placeholder="Short business context and edge cases..."></textarea>
        </div>

        <div class="section">
          <div class="tog"><input type="checkbox" id="useAC" /><label for="useAC">Include <b>Acceptance Criteria</b></label></div>
          <textarea id="ac" class="hide" placeholder="Given ...&#10;When ...&#10;Then ..."></textarea>
          <div class="hint">One criterion per line (Gherkin preferred).</div>
        </div>

        <div class="section">
          <div class="tog"><input type="checkbox" id="useRisks" /><label for="useRisks">Include <b>Risks / Dependencies</b></label></div>
          <textarea id="risks" class="hide" placeholder="- Dependency on API v2&#10;- Risk: color contrast may fail on legacy theme"></textarea>
        </div>

        <div class="section">
          <div class="tog"><input type="checkbox" id="useTests" /><label for="useTests">Include <b>Test Instructions</b></label></div>
          <textarea id="tests" class="hide" placeholder="Steps to verify the story manually or reference to automated tests..."></textarea>
        </div>

        <div class="section">
          <div class="tog"><input type="checkbox" id="useFR" /><label for="useFR">Include <b>Functional Requirements</b></label></div>
          <textarea id="fr" class="hide" placeholder="- Button color = #1E90FF&#10;- Contrast ratio >= 4.5:1&#10;- Visible on all primary CTAs"></textarea>
        </div>

        <div class="section">
          <div class="tog"><input type="checkbox" id="useNotes" /><label for="useNotes">Include <b>Notes / Comments</b></label></div>
          <textarea id="notes" class="hide" placeholder="Any additional remarks for Dev/QA/PO..."></textarea>
        </div>

        <!-- Definition of Ready -->
        <div class="section">
          <div class="tog"><input type="checkbox" id="useDoR" /><label for="useDoR">Include <b>Definition of Ready</b></label></div>
          <div id="dorWrap" class="hide">
            <div class="checklist" id="dorList">
              <label><input type="checkbox" data-dor="Story has clear title and user story format" /> Story has clear title and user story format</label>
              <label><input type="checkbox" data-dor="Description is filled with business logic and edge cases" /> Description is filled with business logic and edge cases</label>
              <label><input type="checkbox" data-dor="Acceptance Criteria are complete" /> Acceptance Criteria are complete</label>
              <label><input type="checkbox" data-dor="Story has been refined and estimated" /> Story has been refined and estimated</label>
              <label><input type="checkbox" data-dor="All dependencies are known" /> All dependencies are known</label>
              <label><input type="checkbox" data-dor="No open questions/blockers remain" /> No open questions/blockers remain</label>
              <label><input type="checkbox" data-dor="The story is understandable by someone outside your stream" /> The story is understandable by someone outside your stream</label>
            </div>
          </div>
        </div>

        <!-- Definition of Done -->
        <div class="section">
          <div class="tog"><input type="checkbox" id="useDoD" /><label for="useDoD">Include <b>Definition of Done</b></label></div>
          <div id="dodWrap" class="hide">
            <div class="checklist" id="dodList">
              <label><input type="checkbox" data-dod="All Acceptance Criteria fulfilled" /> All Acceptance Criteria fulfilled</label>
              <label><input type="checkbox" data-dod="Proper testing done (manual or auto)" /> Proper testing done (manual or auto)</label>
              <label><input type="checkbox" data-dod="Demo prepared (if needed)" /> Demo prepared (if needed)</label>
              <label><input type="checkbox" data-dod="Confirmed with other stream (e.g., CP or CQ)" /> Confirmed with other stream (e.g., CP or CQ)</label>
              <label><input type="checkbox" data-dod="Documentation updated (Confluence, templates, etc.)" /> Documentation updated (Confluence, templates, etc.)</label>
              <label><input type="checkbox" data-dod="Status in Jira updated correctly" /> Status in Jira updated correctly</label>
              <label><input type="checkbox" data-dod="No follow-up tasks remain" /> No follow-up tasks remain</label>
            </div>
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="copyBtn" type="button">Copy JIRA Markdown</button>
          <button class="btn secondary" id="resetBtn" type="button">Reset</button>
          <span id="status" class="pill" aria-live="polite"></span>
        </div>
      </div>

      <!-- RIGHT: Preview -->
      <div class="card">
        <h2>JIRA Markdown Preview</h2>
        <div id="preview" class="preview"></div>
        <div class="hint">Only checked sections are included. Paste this into the JIRA Description field.</div>
      </div>
    </div>
    <footer>Made by PLE • User Story Builder</footer>
  </section>

  <section id="cheatsheet" class="screen">
    <div class="card" style="margin-bottom:16px">
      <h2>User Stories Cheat Sheet (Extended)</h2>
      <p class="sub">Below is the extended guide <em>and</em> the image you provided.</p>
      <div class="cheat-grid">
        <div class="cheat-section">
          <h3>Why?</h3>
          <ul class="list">
            <li>Focus from the perspective of a user who wants to get value from the product.</li>
            <li>Capture <em>what</em> and <em>why</em>, not the solution design.</li>
          </ul>
          <h3 style="margin-top:10px;">I.N.V.E.S.T.</h3>
          <ul class="list">
            <li><b>I</b>ndependent — minimal dependencies</li>
            <li><b>N</b>egotiable — conversation over contracts</li>
            <li><b>V</b>aluable — clear user benefit</li>
            <li><b>E</b>stimable — small enough to size</li>
            <li><b>S</b>mall — completable within a sprint</li>
            <li><b>T</b>estable — has objective criteria</li>
          </ul>
        </div>

        <div class="cheat-section">
          <h3>How?</h3>
          <ul class="list">
            <li><b>WHO</b>: As a <code>[user type]</code></li>
            <li><b>WHAT</b>: I want <code>[action to perform]</code></li>
            <li><b>WHY</b>: So that <code>[desired outcome]</code></li>
          </ul>
          <h3 style="margin-top:10px;">3 C’s Method</h3>
          <ul class="list">
            <li><b>Card</b>: WHO, WHAT, WHY captured succinctly</li>
            <li><b>Conversation</b>: discuss reasoning, constraints, and alternatives</li>
            <li><b>Confirmation</b>: concise acceptance criteria (not detailed test cases)</li>
          </ul>
          <h3 style="margin-top:10px;">Tips</h3>
          <ul class="list">
            <li>Align with Product Outcome & business goals.</li>
            <li>Think vertical slice: UI + API + Data.</li>
            <li>Prefer Gherkin: <code>Given / When / Then</code>.</li>
            <li>Keep scope small; avoid bundling unrelated needs.</li>
          </ul>
        </div>

        <div class="cheat-section">
          <h3>Valuable for the User</h3>
          <p class="sub">A good story usually touches multiple layers.</p>
          <div class="pill-list">
            <span class="pill-item">User interface</span>
            <span class="pill-item">Backend</span>
            <span class="pill-item">Database</span>
          </div>

          <h3 style="margin-top:10px;">Splitting User Stories</h3>
          <ul class="list">
            <li>By workflow step (search → select → checkout)</li>
            <li>By CRUD action (create/read/update/delete)</li>
            <li>By persona or platform</li>
            <li>By happy path vs. edge cases</li>
            <li>By vertical slice (UI+API+Data)</li>
          </ul>
        </div>

        <div class="cheat-section">
          <h3>Examples</h3>
<pre class="example">As a **User**
I want to drag and drop tasks within a list
So that I can reorder them quickly and easily</pre>
<pre class="example">As an **Online Shopper**
I want to read reviews of a product before making the decision
So that I can reduce the uncertainty</pre>
<pre class="example">As a **Freelancer**
I want to track my time spent on each project
So that I can simplify my billing process</pre>
<pre class="example">As an **Administrator**
I want to invite users by importing their emails
To minimize time required to share a workspace</pre>
        </div>

        <div class="cheat-section">
          <h3>Acceptance Criteria — Gherkin</h3>
<pre class="example">Given I am on the Settings page
When I set Primary Button Color to blue
Then the primary action button is blue and meets AA contrast</pre>
          <h3 style="margin-top:10px;">Definition of Done — Checklist</h3>
<pre class="example">- [ ] Code reviewed & merged
- [ ] Unit tests added/passing
- [ ] Accessibility meets WCAG AA
- [ ] Cross-browser verified
- [ ] Deployed to staging
- [ ] PO acceptance on staging
- [ ] Documentation updated</pre>
        </div>

        <div class="cheat-section">
          <h3>Anti-patterns</h3>
          <ul class="list">
            <li>“As a developer, I want …” (opt for user persona)</li>
            <li>Too big: can’t fit in a sprint</li>
            <li>Vague: unclear behavior or outcome</li>
            <li>No AC: untestable or subjective</li>
          </ul>
          <h3 style="margin-top:10px;">Refinement prompts</h3>
          <ul class="list">
            <li>What’s the smallest slice that still delivers value?</li>
            <li>How will we verify it works (AC)?</li>
            <li>Any toggles, dependencies, or risks to call out?</li>
          </ul>
        </div>
      </div>

      
    </div>
    <footer>Made by PLE • Cheat Sheet</footer>
  </section>

<script>
(function(){
  /* Tabs */
  const tabs=document.querySelectorAll('.tab'),screens=document.querySelectorAll('.screen');
  tabs.forEach(t=>t.addEventListener('click',()=>{tabs.forEach(x=>x.classList.remove('active'));screens.forEach(s=>s.classList.remove('active'));t.classList.add('active');document.getElementById(t.dataset.target).classList.add('active');}));

  /* Elements */
  const els = {
    asA: document.getElementById('asA'),
    wantVerb: document.getElementById('wantVerb'),
    iWant: document.getElementById('iWant'),
    soThat: document.getElementById('soThat'),
    useDesc: document.getElementById('useDesc'),
    desc: document.getElementById('desc'),
    useAC: document.getElementById('useAC'),
    ac: document.getElementById('ac'),
    useRisks: document.getElementById('useRisks'),
    risks: document.getElementById('risks'),
    useTests: document.getElementById('useTests'),
    tests: document.getElementById('tests'),
    useFR: document.getElementById('useFR'),
    fr: document.getElementById('fr'),
    useNotes: document.getElementById('useNotes'),
    notes: document.getElementById('notes'),
    useDoD: document.getElementById('useDoD'),
    dodWrap: document.getElementById('dodWrap'),
    dodList: document.getElementById('dodList'),
    useDoR: document.getElementById('useDoR'),
    dorWrap: document.getElementById('dorWrap'),
    dorList: document.getElementById('dorList'),
    preview: document.getElementById('preview'),
    copyBtn: document.getElementById('copyBtn'),
    resetBtn: document.getElementById('resetBtn'),
    status: document.getElementById('status')
  };

  /* Show/hide helpers */
  function toggleArea(checkbox, area){
    const on = checkbox.checked;
    if(on){ area.classList.remove('hide'); }
    else { area.classList.add('hide'); }
  }

  [els.useAC, els.useRisks, els.useTests, els.useFR, els.useNotes].forEach(cb=>{
    const map = {useAC:els.ac, useRisks:els.risks, useTests:els.tests, useFR:els.fr, useNotes:els.notes};
    cb.addEventListener('change', ()=>{ toggleArea(cb, map[cb.id]); build(); });
    // init
    toggleArea(cb, map[cb.id]);
  });

  els.useDoD.addEventListener('change', ()=>{ toggleArea(els.useDoD, els.dodWrap); build(); });
  els.useDoR.addEventListener('change', ()=>{ toggleArea(els.useDoR, els.dorWrap); build(); });
  toggleArea(els.useDoD, els.dodWrap);
  toggleArea(els.useDoR, els.dorWrap);

  function lines(val){ return (val||'').split(/\r?\n/).map(s=>s.trim()).filter(Boolean); }

  function section(title, body){
    return `### ${title}\n${body}`.trim();
  }

  function build(){
    const role = (els.asA.value || '...').trim();
    const verb = (els.wantVerb.value || 'I want to').trim();
    const want = (els.iWant.value || '...').trim();
    const so = (els.soThat.value || '...').trim();

    // User Story block: phrases always bold
    const story =
`
**As a** ${role}
**${verb}** ${want}
**So that** ${so}`;

    const blocks = [story];

    // Optional Description
    if(els.useDesc.checked){
      const d = els.desc.value.trim();
      blocks.push(section('Description', d ? d : '(to be elaborated)'));
    }

    // Optional AC
    if(els.useAC.checked){
      const acLines = lines(els.ac.value);
      const acBlock = acLines.length ? acLines.map(l=>`- ${l}`).join('\n') : '- (to be defined)';
      blocks.push(section('Acceptance Criteria', acBlock));
    }

    // Optional Risks / Dependencies
    if(els.useRisks.checked){
      const r = els.risks.value.trim();
      blocks.push(section('Risks / Dependencies', r ? r : '(none noted)'));
    }

    // Optional Test Instructions
    if(els.useTests.checked){
      const t = els.tests.value.trim();
      blocks.push(section('Test Instructions', t ? t : '(to be provided)'));
    }

    // Optional Functional Requirements
    if(els.useFR.checked){
      const f = els.fr.value.trim();
      blocks.push(section('Functional Requirements', f ? f : '(to be refined)'));
    }

    // Optional Notes / Comments
    if(els.useNotes.checked){
      const n = els.notes.value.trim();
      blocks.push(section('Notes / Comments', n ? n : '(none)'));
    }

    // Definition of Ready (checkbox-controlled)
    if(els.useDoR.checked){
      const dorChecked = Array.from(els.dorList.querySelectorAll('input[type="checkbox"]:checked'))
        .map(cb => cb.getAttribute('data-dor'));
      const dorBody = (dorChecked.length ? dorChecked : ['(to be confirmed)'])
        .map(x=>`- [ ] ${x}`).join('\n');
      blocks.push(section('Definition of Ready', dorBody));
    }

    // Definition of Done (checkbox-controlled)
    if(els.useDoD.checked){
      const dodChecked = Array.from(els.dodList.querySelectorAll('input[type="checkbox"]:checked'))
        .map(cb => cb.getAttribute('data-dod'));
      const dodBody = (dodChecked.length ? dodChecked : ['(to be confirmed)'])
        .map(x=>`- [ ] ${x}`).join('\n');
      blocks.push(section('Definition of Done', dodBody));
    }

    const md = blocks.join('\n\n');
    els.preview.textContent = md;
    return md;
  }

  function copy(){
    const text = build();
    navigator.clipboard.writeText(text).then(()=>{
      els.status.textContent = 'Copied!';
      els.status.className = 'pill ok';
      setTimeout(()=>{ els.status.textContent=''; els.status.className='pill'; }, 1400);
    }).catch(()=>{
      const ta = document.createElement('textarea');
      ta.value = text; document.body.appendChild(ta); ta.select();
      try{ document.execCommand('copy'); els.status.textContent = 'Copied!'; els.status.className='pill ok'; }
      catch(e){ els.status.textContent = 'Copy failed'; els.status.className='pill warn'; }
      document.body.removeChild(ta);
      setTimeout(()=>{ els.status.textContent=''; els.status.className='pill'; }, 1400);
    });
  }

  function reset(){
    els.asA.value = '';
    els.wantVerb.value = 'I want to';
    els.iWant.value = '';
    els.soThat.value = '';

    // defaults: Description ON; others OFF
    els.useDesc.checked = true;
    els.useAC.checked = false;
    els.useRisks.checked = false;
    els.useTests.checked = false;
    els.useFR.checked = false;
    els.useNotes.checked = false;
    els.useDoD.checked = false;
    els.useDoR.checked = false;

    els.desc.value = '';
    els.ac.value = '';
    els.risks.value = '';
    els.tests.value = '';
    els.fr.value = '';
    els.notes.value = '';
    els.dodList.querySelectorAll('input').forEach(cb=>cb.checked=false);
    els.dorList.querySelectorAll('input').forEach(cb=>cb.checked=false);

    toggleArea(els.useAC, els.ac);
    toggleArea(els.useRisks, els.risks);
    toggleArea(els.useTests, els.tests);
    toggleArea(els.useFR, els.fr);
    toggleArea(els.useNotes, els.notes);
    toggleArea(els.useDoD, els.dodWrap);
    toggleArea(els.useDoR, els.dorWrap);

    build();
  }

  [els.asA, els.wantVerb, els.iWant, els.soThat, els.desc, els.ac, els.risks, els.tests, els.fr, els.notes]
    .forEach(el=> el.addEventListener('input', build));
  els.dodList.addEventListener('change', build);
  els.dorList.addEventListener('change', build);

  els.copyBtn.addEventListener('click', copy);
  els.resetBtn.addEventListener('click', reset);

  // Initial render
  build();
})();

// === Toggle Visibility Wiring ===
function attachToggle(tid, onChange){
  const cb = document.getElementById(tid);
  if(!cb) return;
  const handler = () => { try { onChange(cb.checked); } catch(e){};  };
  cb.addEventListener('change', handler);
  // run once to apply initial state
  handler();
}

// Map checkboxes to their elements
attachToggle('useDesc', (on) => {
  const ta = document.getElementById('desc');
  if(ta){ ta.classList.toggle('hide', !on); }
});

attachToggle('useAC', (on) => {
  const ta = document.getElementById('ac');
  if(ta){ ta.classList.toggle('hide', !on); }
  // Also toggle the hint next to AC
  if(ta && ta.nextElementSibling && ta.nextElementSibling.classList && ta.nextElementSibling.classList.contains('hint')){
    ta.nextElementSibling.classList.toggle('hide', !on);
  }
});

attachToggle('useRisks', (on) => {
  const ta = document.getElementById('risks');
  if(ta){ ta.classList.toggle('hide', !on); }
});

attachToggle('useTests', (on) => {
  const ta = document.getElementById('tests');
  if(ta){ ta.classList.toggle('hide', !on); }
});

attachToggle('useFR', (on) => {
  const ta = document.getElementById('fr');
  if(ta){ ta.classList.toggle('hide', !on); }
});

attachToggle('useNotes', (on) => {
  const ta = document.getElementById('notes');
  if(ta){ ta.classList.toggle('hide', !on); }
});

attachToggle('useDoR', (on) => {
  const wrap = document.getElementById('dorWrap');
  if(wrap){ wrap.classList.toggle('hide', !on); }
});

attachToggle('useDoD', (on) => {
  const wrap = document.getElementById('dodWrap');
  if(wrap){ wrap.classList.toggle('hide', !on); }
});
// === End Toggle Wiring ===
</script>
</body>
</html>